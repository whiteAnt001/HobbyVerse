-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT '2c62092cf3cb2143' HASH '669652bf28f2bcef5de04abf05ae6c7214d385637bd92b4fc8de96fb57a02fd3' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."MEETUP"(
    "M_ID" NUMERIC(8) NOT NULL,
    "TITLE" CHARACTER VARYING(100) NOT NULL,
    "INFO" CHARACTER LARGE OBJECT NOT NULL,
    "C_KEY" NUMERIC(8) NOT NULL,
    "W_DATE" DATE,
    "PRICE" INTEGER,
    "IMAGENAME" CHARACTER VARYING(20),
    "W_ID" CHARACTER VARYING(50)
);  
ALTER TABLE "PUBLIC"."MEETUP" ADD CONSTRAINT "PUBLIC"."M_ID_PK" PRIMARY KEY("M_ID");          
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.MEETUP;  
INSERT INTO "PUBLIC"."MEETUP" VALUES
(1, U&'\c8fc\b9d0 \b18d\ad6c \baa8\c784', U&'\b18d\ad6c\b97c \c88b\c544\d558\b294 \c0ac\b78c\b4e4\b07c\b9ac \b18d\ad6c\d569\c2dc\b2e4!', 1, DATE '2020-02-02', 2000, U&'\c8fc\b9d0', U&'\d64d\ae38\b3d9');              
CREATE CACHED TABLE "PUBLIC"."CATEGORY"(
    "C_KEY" INTEGER NOT NULL,
    "NAME" CHARACTER VARYING(20) NOT NULL
);        
ALTER TABLE "PUBLIC"."CATEGORY" ADD CONSTRAINT "PUBLIC"."C_KEY_PK" PRIMARY KEY("C_KEY");      
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORY;
INSERT INTO "PUBLIC"."CATEGORY" VALUES
(1, U&'\b18d\ad6c');  
CREATE CACHED TABLE "PUBLIC"."ADMINS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255) NOT NULL
);        
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");       
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.ADMINS;  
INSERT INTO "PUBLIC"."ADMINS" VALUES
(1, 'admin@gmail.com', U&'\ad00\b9ac\c790', 'admin');   
CREATE CACHED TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "ROLE" CHARACTER VARYING(255)
);               
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USERS;   
INSERT INTO "PUBLIC"."USERS" VALUES
(1, 'test@gmail.com', U&'\d14c\c2a4\d2b8', '$2a$10$z5qEArxnYZugq6YIHiVsiumxlpSEIumrWwN07kGFmES9ndL0tcfSO', NULL),
(2, 'admin@gmail.com', U&'\ad00\b9ac\c790', '$2a$10$AR8JHmJENJf5sjM4c8NNRORPCjWcVhzWRoMT7z3nGP3YFS2Y39iiC', NULL);    
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK3G1J96G94XPK3LPXL2QBL985X" UNIQUE NULLS DISTINCT ("NAME");            
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."UK6DOTKOTT2KJSP8VW4D0M25FB7" UNIQUE NULLS DISTINCT ("EMAIL");           
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."UK47BVQEMYK6VLM0W7CRC3OPDD4" UNIQUE NULLS DISTINCT ("EMAIL");          
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."UK705JYKG3MCBMH9BDOFGKUV9OI" UNIQUE NULLS DISTINCT ("NAME");           
ALTER TABLE "PUBLIC"."MEETUP" ADD CONSTRAINT "PUBLIC"."C_KEY_FK" FOREIGN KEY("C_KEY") REFERENCES "PUBLIC"."CATEGORY"("C_KEY") NOCHECK;        
ALTER TABLE "PUBLIC"."MEETUP" ADD CONSTRAINT "PUBLIC"."MEETUP_KEY_FK" FOREIGN KEY("C_KEY") REFERENCES "PUBLIC"."CATEGORY"("C_KEY") NOCHECK;   
