<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.springboot.hobbyverse.mapper.CategoryMapper">
	<select id="getKeyByName" parameterType="com.springboot.hobbyverse.model.StartEnd" resultType="com.springboot.hobbyverse.model.Category">
		select m_id, title, info, c_key , w_date, price, w_id
		from (select ROW_NUMBER() OVER() as rank, a.*
				from (select m_id, title, info, c_key , to_char(w_date, 'YYYY-MM-DD') as w_date, price, w_id
						from meetup where title like '%' || #{title} || '%') a 
			)
		where rank > #{start} and rank <![CDATA[<]]> #{end}
	</select>
	
	<select id="getKeyCountByName" parameterType="String" resultType="Integer">
		select count(*) from meetup where title like '%' || #{title} || '%'
	</select>
</mapper>